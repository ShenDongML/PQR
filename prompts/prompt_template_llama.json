{
    "classification_few_shot_all_context": ["<|begin_of_text|><|start_header_id|>user<|end_header_id|>\n\nTask: You are given a conversation between a user and an assistant, and the user's persona descriptions. Your task is to classify if the current user query is asking for some personal advice or suggestions and some persona descriptions are directly related to the current user query. They can be added to the query to reflect the user's search intent better.\n\nHere are some examples:\n{examples}\n\n[Your Task]\nPersona Descriptions:\n{ptkb}\n\nConversation History:\n{history}\n\nCurrent Query: {query}\n\nReturn the answer:\n\n - The first line must be 'Yes or 'No' starting with '### Answer: '. Do not give any comments or notes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>"],
    "classification_feature":["<|begin_of_text|><|start_header_id|>user<|end_header_id|>\n\nTask: You are given a conversation between a user and an assistant, and the user's persona descriptions. Your task is to classify if the current user query meets any of the following conditions which means that the current query requires the user's persona descriptions to reflect the user's search intent better:\n1. Ask for personal advice or suggestions, particularly related to the user's geographical location or environment.\n\nPersona Descriptions:\n{ptkb}\n\nConversation History:\n{history}\n\nCurrent Query: {query}\n\nReturn the answer:\n\n- The first line must be 'Yes' or 'No' starting with '### Answer: '. Do not give any comments or notes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>", "<|begin_of_text|><|start_header_id|>user<|end_header_id|>\n\nTask: You are given a conversation between a user and an assistant, and the user's persona descriptions. Your task is to classify if the current user query meets any of the following conditions which means that the current query requires the user's persona descriptions to reflect the user's search intent better:\n1. Contain possessive adjectives or determiners, such as 'my' or 'our', which imply a need for personal recommendations or suggestions.\n\nPersona Descriptions:\n{ptkb}\n\nConversation History:\n{history}\n\nCurrent Query: {query}\n\nReturn the answer:\n\n- The first line must be 'Yes' or 'No' starting with '### Answer: '. Do not give any comments or notes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>", "<|begin_of_text|><|start_header_id|>user<|end_header_id|>\n\nTask: You are given a conversation between a user and an assistant, and the user's persona descriptions. Your task is to classify if the current user query meets any of the following conditions which means that the current query requires the user's persona descriptions to reflect the user's search intent better:\n1. omitting conditions or facts about the users.\n\nPersona Descriptions:\n{ptkb}\n\nConversation History:\n{history}\n\nCurrent Query: {query}\n\nReturn the answer:\n\n- The first line must be 'Yes' or 'No' starting with '### Answer: '. Do not give any comments or notes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>", "<|begin_of_text|><|start_header_id|>user<|end_header_id|>\n\nTask: You are given a conversation between a user and an assistant, and the user's persona descriptions. Your task is to classify if the current user query meets any of the following conditions which means that the current query requires the user's persona descriptions to reflect the user's search intent better:\n1. enquiring information that is closely related to the user's personal conditions, such as health issues\n\nPersona Descriptions:\n{ptkb}\n\nConversation History:\n{history}\n\nCurrent Query: {query}\n\nReturn the answer:\n\n- The first line must be 'Yes' or 'No' starting with '### Answer: '. Do not give any comments or notes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>", "<|begin_of_text|><|start_header_id|>user<|end_header_id|>\n\nTask: You are given a conversation between a user and an assistant, and the user's persona descriptions. Your task is to classify if the current user query meets any of the following conditions which means that the current query requires the user's persona descriptions to reflect the user's search intent better:\n1. Ask for personal advice or suggestions, particularly related to the user's geographical location or environment.\n2. Contain possessive adjectives or determiners, such as 'my' or 'our', which imply a need for personal recommendations or suggestions.\n3. omitting conditions or facts about the users\n4. enquiring information that is closely related to the user's personal conditions, such as health issues\n\nPersona Descriptions:\n{ptkb}\n\nConversation History:\n{history}\n\nCurrent Query: {query}\n\nReturn the answer:\n\n- The first line must be 'Yes' or 'No' starting with '### Answer: '. Do not give any comments or notes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>"],
    "PTKB_selection": ["<|begin_of_text|><|start_header_id|>user<|end_header_id|>\nTask: You are given a conversation between a user and an assistant, and the user's persona descriptions. Your task is to select one persona description which is directly related to the current user query and it can be added to the query to reflect the user's search intent better.\n\nHere are the user's persona descriptions:\n{ptkb}\n\nHere is the conversation history between the user and an assistant:\n{history}\n\nCurrent Query: {query}\n\nReturn the answer:\n\n - The first line must be the number that indicates your choice and start with '### Answer: '. Do not give any comments or notes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>"],
    "query_reformulation": ["<|begin_of_text|><|start_header_id|>user<|end_header_id|>\nTask: The following is a conversation between a user and an assistant. If the current query has omissions or is ambiguous, rewrite it with the conversation history so that people can fully understand the query without any context of the conversation. You should keep the original format of the query and only add the omitted part or substitute the pronouns to the current query. Else, return the original query. Here are some examples:\n\n[Example 1]\nConversation History:\nUser: Hi there! I'm really excited about starting my own business. Can you help me get started?\nAssistant: Of course! I'd be happy to help you get started with your own business. You could consider starting an event planning business. It would allow you to combine your passion for customer service, music, and social gatherings. You could help people plan and organize memorable events like parties, weddings, or corporate functions. What do you think?\nUser: That sounds intriguing! Are there any specific steps I should follow?\nAssistant: Absolutely! Here are some steps you can take to get started with your event planning business: 1. Research and identify your target market. 2. Define your services and pricing structure. 3. Create a business plan outlining your goals, strategies, and financial projections. 4. Register your business and obtain any necessary licenses or permits. 5. Build a network of vendors and suppliers who can support your events. 6. Develop a strong online presence through a website and social media platforms. 7. Market your services to attract clients. Remember, learning from experienced event planners and attending industry conferences can also be valuable. Does that help?\n\nCurrent Query: Thank you for the helpful steps! Can you tell me about the third step?\n\n### Rewrite: Thank you for the helpful steps! Can you tell me about the financial projection step?\n\n[Example 2]\nConversation History:\n\n\nCurrent Query: Hello, I am looking for tips for going on my first date. How do I prepare?\n\n### Rewrite: Hello, I am looking for tips for going on my first date. How do I prepare for the date?\n\n[Your task]\nConversation History:\n{history}\n\nCurrent Query: {query}\n\nReturn the rewritten query:\n\n - the first line must be your rewritten query starting with '### Rewrite: '. Do not give any comments or notes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>", "Instruction:\nThe following is a conversation between a user and an agent. If the current query has omissions or is ambiguous, rewrite it with the conversation history so that people can fully understand the query without any context of the conversation. You should keep the original format of the query and only add the omitted part or substitute the pronouns. Else, return the original query. Do not give any notes or explanations, just return the rewritten query as your response. Add \"<|end_of_text|>\" at the end of your response.\n\nExample 1:\nHistory:\nUser: Hi there! I'm really excited about starting my own business. Can you help me get started?\nAssistant: Of course! I'd be happy to help you get started with your own business. You could consider starting an event planning business. It would allow you to combine your passion for customer service, music, and social gatherings. You could help people plan and organize memorable events like parties, weddings, or corporate functions. What do you think?\nUser: That sounds intriguing! Are there any specific steps I should follow?\nAssistant: Absolutely! Here are some steps you can take to get started with your event planning business: 1. Research and identify your target market. 2. Define your services and pricing structure. 3. Create a business plan outlining your goals, strategies, and financial projections. 4. Register your business and obtain any necessary licenses or permits. 5. Build a network of vendors and suppliers who can support your events. 6. Develop a strong online presence through a website and social media platforms. 7. Market your services to attract clients. Remember, learning from experienced event planners and attending industry conferences can also be valuable. Does that help?\n\nCurrent query: Thank you for the helpful steps! Can you tell me about the third step?\n\n### Rewrite: Thank you for the helpful steps! Can you tell me about the financial projection step?<|end_of_text|>\n\nExample 2:\nHistory:\n\nCurrent query: Hello, I am looking for tips for going on my first date. How do I prepare?\n\n### Rewrite: Hello, I am looking for tips for going on my first date. How do I prepare for the date?<|end_of_text|>\n\nExample 3:\nHistory:\n{history}\n\nCurrent query: {query}\n\n### Rewrite:"]
}